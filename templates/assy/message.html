{% extends "layout.html" %}
{% load static %}


{% block content %}
<div class="header">
    Django - チャットアプリデモ
    </div>
    
    <h2>ルームを新しく作成する<h2>
    <div class="create-room-box">
        <form action="/room/" method="post">
            {% csrf_token %}
            <input placeholder="ルーム名を入力" type="text" name="room_name" value="">
            <input type="submit" class="send" name="button" value="作成"> 
        </form>
    </div>
    
    
<input id="room-name-input" type="text" size="20">
<input id="room-name-submit" type="button" value="送信">
<script>
    document.querySelector('#room-name-input').focus();
        document.querySelector('#room-name-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#room-name-submit').click();
            }
        };
        document.querySelector('#room-name-submit').onclick = function(e) {
            var roomName = document.querySelector('#room-name-input').value;
            window.location.pathname = '/assy/' + roomName + '/';
        };
</script>
{% endblock %}